# Kong ê¸°ë³¸ ì„¤ì •
replicaCount: 2

# **ğŸ“Œ PostgreSQL ì œê±°**
postgresql:
  enabled: false  # âœ… PostgreSQL ì„¤ì¹˜í•˜ì§€ ì•Šë„ë¡ ë³€ê²½

# Kong ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (DBless ëª¨ë“œ)
database:
  enabled: false  # âœ… PostgreSQL ë¹„í™œì„±í™”
  type: "off"  # âœ… DB ì—†ì´ ì‹¤í–‰

# Kong ì„œë¹„ìŠ¤ ì„¤ì •
proxy:
  type: ClusterIP
  http:
    enabled: true
    servicePort: 80
    containerPort: 8000
  https:
    enabled: true
    servicePort: 443
    containerPort: 8443

admin:
  enabled: false  # âœ… Admin API ì‚¬ìš© ì•ˆí•¨ (DBless ëª¨ë“œ)

# Kong í™˜ê²½ ë³€ìˆ˜ (DB ì—†ì´ ì‹¤í–‰)
extraEnvVars:
  - name: KONG_DATABASE
    value: "off"  # âœ… DB ì—†ì´ ì‹¤í–‰
  - name: KONG_DECLARATIVE_CONFIG
    value: "/opt/kong/kong.yml"  # âœ… ConfigMapì—ì„œ ì„¤ì • ë¡œë“œ

# Kong Ingress ì„¤ì •
ingressController:
  enabled: true
  installCRDs: false
  ingressClassName: "nginx"
  admin:
    enabled: false
  proxy:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/rewrite-target: "/"
    tls:
      enabled: true
      secretName: kong-tls
    hosts:
      - api.sol-wms.store

# Kafka ì—°ë™ ì„¤ì • (JWT ì¸ì¦ ì´ë²¤íŠ¸ ì²˜ë¦¬)
kafka:
  enabled: true
  bootstrapServers: "my-cluster-kafka-0.kafka.svc.cluster.local:9092,my-cluster-kafka-1.kafka.svc.cluster.local:9092"
  topic: "kong_jwt_events"
  securityProtocol: "PLAINTEXT"

